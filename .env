# =================================================
# MOODCHAT BACKEND CONFIGURATION - DEVELOPMENT
# =================================================

# ========== APPLICATION & SERVER ==========
NODE_ENV=development
PORT=4000
HOST=localhost
API_PREFIX=/api
APP_NAME=MoodChat
APP_VERSION=1.0.0
LOG_LEVEL=debug
LOG_FORMAT=dev

# ========== CORS & SECURITY ==========
CORS_ORIGIN=http://localhost:5500,http://127.0.0.1:5500,http://localhost:3000
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400
HELMET_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=1000

# ========== DATABASE (PostgreSQL) ==========
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=24845c1b4df84c17a0526806f7aa0482
DB_NAME=moodchat
DB_DIALECT=postgres
DB_POOL_MAX=10
DB_POOL_MIN=0
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000
DB_LOGGING=true
DB_SSL=false
DATABASE_URL=postgresql://postgres:24845c1b4df84c17a0526806f7aa0482@127.0.0.1:5432/moodchat

# ========== JWT AUTHENTICATION ==========
JWT_SECRET=dev_jwt_secret_key_1234567890_change_in_production!
JWT_ACCESS_SECRET=dev_access_secret_1234567890_change_in_production!
JWT_REFRESH_SECRET=dev_refresh_secret_1234567890_change_in_production!
JWT_ISSUER=moodchat-backend
JWT_AUDIENCE=moodchat-client
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ALGORITHM=HS256
JWT_COOKIE_NAME=moodchat_token
JWT_COOKIE_HTTP_ONLY=true
JWT_COOKIE_SECURE=false
JWT_COOKIE_SAME_SITE=lax
JWT_COOKIE_MAX_AGE=604800000  # 7 days

# ========== REDIS (Disabled in Dev) ==========
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=
REDIS_TLS=false
REDIS_KEY_PREFIX=moodchat:
REDIS_CONNECT_TIMEOUT=5000
REDIS_MAX_RETRIES=3

# ========== EMAIL (Disabled in Dev) ==========
EMAIL_ENABLED=false
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM=noreply@moodchat.com
EMAIL_FROM_NAME=MoodChat
EMAIL_TEMPLATES_DIR=./email-templates
EMAIL_VERIFICATION_SUBJECT=Verify Your MoodChat Account
EMAIL_PASSWORD_RESET_SUBJECT=Reset Your MoodChat Password

# ========== FILE UPLOADS & MEDIA ==========
UPLOAD_DIR=./uploads
UPLOAD_MAX_SIZE=10485760  # 10MB
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp
UPLOAD_AVATAR_MAX_SIZE=2097152  # 2MB
UPLOAD_AVATAR_WIDTH=500
UPLOAD_AVATAR_HEIGHT=500
UPLOAD_MEDIA_DIR=./uploads/media
UPLOAD_TEMP_DIR=./uploads/temp
MEDIA_SERVE_STATIC=true
MEDIA_BASE_URL=/api/media

# ========== WEBSOCKET & REAL-TIME ==========
WS_ENABLED=true
WS_PORT=4001
WS_PATH=/socket.io
WS_CORS_ORIGIN=http://localhost:5500,http://127.0.0.1:5500
WS_PING_TIMEOUT=60000
WS_PING_INTERVAL=25000
WS_MAX_HTTP_BUFFER_SIZE=1e6
WS_TRANSPORTS=polling,websocket

# ========== SECURITY & ENCRYPTION ==========
BCRYPT_SALT_ROUNDS=12
SESSION_SECRET=dev_session_secret_1234567890_change_in_production!
ENCRYPTION_KEY=dev_encryption_key_32_chars_long_change_this!
COOKIE_SECRET=dev_cookie_secret_1234567890_change_in_production!
CSRF_ENABLED=false
XSS_PROTECTION_ENABLED=true
CONTENT_SECURITY_POLICY_ENABLED=false

# ========== PASSWORD POLICY ==========
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
PASSWORD_MAX_ATTEMPTS=5
PASSWORD_LOCKOUT_TIME=900000  # 15 minutes

# ========== USER ACCOUNTS ==========
USERNAME_MIN_LENGTH=3
USERNAME_MAX_LENGTH=30
USERNAME_ALLOWED_CHARS=^.+$
EMAIL_VERIFICATION_REQUIRED=false
ACCOUNT_AUTO_ACTIVATE=true
MAX_ACCOUNTS_PER_IP=5
MAX_LOGIN_ATTEMPTS=10
LOGIN_LOCKOUT_DURATION=1800000  # 30 minutes

# ========== FRONTEND & CLIENT ==========
FRONTEND_URL=http://localhost:5500
APP_URL=http://localhost:5500
API_BASE_URL=http://localhost:4000/api
WEBSOCKET_URL=ws://localhost:4001
VERIFICATION_REDIRECT_URL=http://localhost:5500/verify-success
PASSWORD_RESET_REDIRECT_URL=http://localhost:5500/reset-success

# ========== FEATURE TOGGLES ==========
FEATURE_EMAIL_VERIFICATION=false
FEATURE_PASSWORD_RESET=true
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_SOCIAL_LOGIN=false
FEATURE_FILE_UPLOADS=true
FEATURE_VOICE_MESSAGES=false
FEATURE_VIDEO_CALLS=false
FEATURE_GROUP_CHATS=true
FEATURE_MOOD_TRACKING=true
FEATURE_PUSH_NOTIFICATIONS=false
FEATURE_ANALYTICS=false
FEATURE_BACKUP=false

# ========== CACHE SETTINGS ==========
CACHE_ENABLED=false
CACHE_TTL=300000  # 5 minutes
CACHE_CHECK_PERIOD=60000  # 1 minute
CACHE_MAX_ITEMS=1000

# ========== MESSAGES & CHATS ==========
MESSAGE_MAX_LENGTH=5000
MESSAGE_HISTORY_DAYS=30
CHAT_MAX_PARTICIPANTS=100
GROUP_MAX_PARTICIPANTS=50
TYPING_INDICATOR_TIMEOUT=5000
ONLINE_STATUS_TIMEOUT=300000  # 5 minutes

# ========== MONITORING & LOGGING ==========
LOGGING_DIR=./logs
LOGGING_MAX_FILES=14
LOGGING_MAX_SIZE=10485760  # 10MB
ERROR_REPORTING_ENABLED=false
PERFORMANCE_MONITORING_ENABLED=false
REQUEST_LOGGING_ENABLED=true

# ========== BACKUP & MAINTENANCE ==========
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 0 * * *  # Daily at midnight
BACKUP_RETENTION_DAYS=7
AUTO_DELETE_INACTIVE_USERS=false
INACTIVE_USER_THRESHOLD_DAYS=90

# ========== TESTING ==========
TEST_DB_HOST=127.0.0.1
TEST_DB_PORT=5432
TEST_DB_USER=postgres
TEST_DB_PASSWORD=24845c1b4df84c17a0526806f7aa0482
TEST_DB_NAME=moodchat_test
SEED_DATA_ENABLED=false

# ========== THIRD-PARTY INTEGRATIONS ==========
# Google (disabled in dev)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=

# Facebook (disabled in dev)
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=
FACEBOOK_CALLBACK_URL=

# AWS S3 (disabled in dev)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=
AWS_S3_ENDPOINT=

# Cloudinary (disabled in dev)
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# Stripe (disabled in dev)
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# ========== DEBUG & DEVELOPMENT ==========
DEBUG=true
DEBUG_DB_QUERIES=true
DEBUG_REDIS=false
DEBUG_EMAIL=false
DEBUG_WEBSOCKET=true
DEBUG_AUTH=true
SHOW_ERROR_DETAILS=true
ENABLE_TEST_ENDPOINTS=true
SKIP_RATE_LIMITING=true
SKIP_AUTH_CHECKS=false

# ========== PERFORMANCE ==========
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
RESPONSE_CACHE_ENABLED=false
QUERY_CACHE_ENABLED=false
CONNECTION_POOLING_ENABLED=true
WORKERS=1

# ========== MISC ==========
TIMEZONE=UTC
DATE_FORMAT=YYYY-MM-DD
TIME_FORMAT=HH:mm:ss
LANGUAGE=en
DEFAULT_THEME=dark
DEFAULT_AVATAR=/default-avatar.png
SUPPORT_EMAIL=support@moodchat.com
ADMIN_EMAIL=admin@moodchat.com
TERMS_URL=http://localhost:5500/terms
PRIVACY_URL=http://localhost:5500/privacy
CONTACT_URL=http://localhost:5500/contact